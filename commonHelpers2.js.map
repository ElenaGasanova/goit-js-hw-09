{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const bodyEl = document.querySelector('body');\nconst formEl = document.createElement('form');\n\nbodyEl.append(formEl);\n\nformEl.classList.add('feedback-form');\nformEl.setAttribute('autocomplete', 'off');\nformEl.innerHTML =\n  \"<label>Email<input type='email' name='email' autofocus /></label><label>Message<textarea name='message' rows='8'></textarea></label><button type='submit'>Submit</button>\";\n\nconst storage = {\n  email: null,\n  message: null,\n};\n\nconst onFormInput = event => {\n  storage.email = formEl.elements.email.value.trim();\n  storage.message = formEl.elements.message.value.trim();\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(storage));\n};\n\nconst savedUserData = JSON.parse(localStorage.getItem('feedback-form-state'));\n\nif (localStorage.length !== 0) {\n  formEl.elements.email.value = savedUserData.email;\n  formEl.elements.message.value = savedUserData.message;\n}\n\nformEl.addEventListener('input', onFormInput);\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (\n    formEl.elements.email.value === '' ||\n    formEl.elements.message.value === ''\n  ) {\n    alert('Both fields must be filled');\n  } else {\n    localStorage.removeItem('feedback-form-state');\n    formEl.reset();\n    console.log(storage);\n  }\n});\n"],"names":["bodyEl","formEl","storage","onFormInput","event","savedUserData"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAS,SAAS,cAAc,MAAM,EAE5CD,EAAO,OAAOC,CAAM,EAEpBA,EAAO,UAAU,IAAI,eAAe,EACpCA,EAAO,aAAa,eAAgB,KAAK,EACzCA,EAAO,UACL,4KAEF,MAAMC,EAAU,CACd,MAAO,KACP,QAAS,IACX,EAEMC,EAAcC,GAAS,CAC3BF,EAAQ,MAAQD,EAAO,SAAS,MAAM,MAAM,OAC5CC,EAAQ,QAAUD,EAAO,SAAS,QAAQ,MAAM,OAEhD,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAO,CAAC,CACrE,EAEMG,EAAgB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAExE,aAAa,SAAW,IAC1BJ,EAAO,SAAS,MAAM,MAAQI,EAAc,MAC5CJ,EAAO,SAAS,QAAQ,MAAQI,EAAc,SAGhDJ,EAAO,iBAAiB,QAASE,CAAW,EAE5CF,EAAO,iBAAiB,SAAUG,GAAS,CACzCA,EAAM,eAAc,EAGlBH,EAAO,SAAS,MAAM,QAAU,IAChCA,EAAO,SAAS,QAAQ,QAAU,GAElC,MAAM,4BAA4B,GAElC,aAAa,WAAW,qBAAqB,EAC7CA,EAAO,MAAK,EACZ,QAAQ,IAAIC,CAAO,EAEvB,CAAC"}